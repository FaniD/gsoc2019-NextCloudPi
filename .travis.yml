stages:
        - building_images_part_1
        - building_images_part_2
sudo: required
language: generic
dist: xenial
branches:
  only:
        - gsoc2019-travis
before_script:
        - ./.travis/main.sh #configuration script for travis machine - upgrading docker and installing packages for arm architecture
jobs:
  include:
        - stage: building_images_part_1
          ### Raspbian rpi
          script:
          - sed -i "s/create_torrent/#create_torrent/" build-SD-armbian.sh
          - sed -i "s/upload_ftp/#upload_ftp/" build-SD-armbian.sh
          - sed -i "/innodb_file_format=barracuda/a open_files_limit=65536" lamp.sh
          - while sleep 9m; do echo "=====[ $SECONDS seconds, still building armbian image... ]====="; done &
          - ./build-SD-armbian.sh odroidxu4 OdroidHC2
          - sed -i '/open_files_limit=65536/d' lamp.sh
          - ls /tmp

notifications:
        email: false
